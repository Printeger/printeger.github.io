<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<ul>
  <li>
<a href="#a">A</a>
    <ul>
      <li>
<a href="#apollo">APOLLO</a>
        <ul>
          <li><a href="#play-record">play .record</a></li>
          <li><a href="#channle-%E7%9B%91%E6%8E%A7">channle 监控</a></li>
          <li><a href="#sdkrepo-download">sdk/repo download</a></li>
          <li><a href="#%E5%90%AF%E5%8A%A8%E6%95%B0%E6%8D%AE%E9%9B%86">启动数据集</a></li>
          <li><a href="#%E7%82%B9%E4%BA%91%E5%BD%95%E5%88%B6">点云录制</a></li>
          <li><a href="#orders">orders</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#b">B</a></li>
  <li>
<a href="#c">C</a>
    <ul>
      <li>
<a href="#cuda">CUDA</a>
        <ul>
          <li><a href="#pytorch-%E5%AF%B9%E5%BA%94-cuda%E7%89%88%E6%9C%AC">pytorch 对应 cuda版本</a></li>
          <li><a href="#cuda-1">CUDA</a></li>
          <li><a href="#cudnn-tar--install">cudnn .tar  install</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
<a href="#d">D</a>
    <ul>
      <li>
<a href="#docker">Docker</a>
        <ul>
          <li><a href="#docker-%E5%8F%AF%E8%A7%86%E5%8C%96">docker 可视化</a></li>
          <li><a href="#cannot-access-gpu-from-within-container-please-install-latest-docker-and-nvidia-container-toolkit-as-described-by">Cannot access GPU from within container. Please install latest Docker and NVIDIA Container Toolkit as described by:</a></li>
          <li><a href="#%E6%8A%A5%E9%94%99failed-to-connect-is-docker-running">报错Failed to connect. Is Docker running</a></li>
          <li><a href="#docker--container-%E6%9F%A5%E7%9C%8B%E5%90%AF%E5%8A%A8%E8%BF%9B%E5%85%A5">docker  container 查看/启动/进入</a></li>
          <li><a href="#docker-group">docker group</a></li>
          <li><a href="#docker-images--container">docker images / container</a></li>
          <li><a href="#docker-%E6%8B%B7%E8%B4%9D%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%88%B0%E5%AE%B9%E5%99%A8%E5%AE%B9%E5%99%A8%E5%88%B0%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6">docker 拷贝本地文件到容器/容器到本地文件</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
<a href="#e">E</a>
    <ul>
      <li><a href="#error">ERROR</a></li>
      <li><a href="#evo">EVO</a></li>
    </ul>
  </li>
  <li><a href="#f">F</a></li>
  <li>
<a href="#g">G</a>
    <ul>
      <li><a href="#gdb">GDB</a></li>
      <li>
<a href="#git">GIT</a>
        <ul>
          <li><a href="#%E4%BB%8Ebitbucket%E4%B8%8B%E8%BD%BD">从bitbucket下载：</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#h">H</a></li>
  <li>
<a href="#i">I</a>
    <ul>
      <li>
<a href="#innovusion">INNOVUSION</a>
        <ul>
          <li><a href="#falcon-ros">falcon-ros:</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#j">J</a></li>
  <li><a href="#k">K</a></li>
  <li><a href="#l">L</a></li>
  <li><a href="#m">M</a></li>
  <li><a href="#n">N</a></li>
  <li><a href="#o">O</a></li>
  <li>
<a href="#p">P</a>
    <ul>
      <li><a href="#python">python</a></li>
    </ul>
  </li>
  <li><a href="#q">Q</a></li>
  <li>
<a href="#r">R</a>
    <ul>
      <li>
<a href="#ros">ROS</a>
        <ul>
          <li><a href="#fixed-frame-trans">fixed frame trans</a></li>
          <li><a href="#rosbag-to-pcdtxt">Rosbag to pcd/txt:</a></li>
          <li><a href="#%E6%9F%A5%E7%9C%8Bframe_id">查看frame_id</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#s">S</a></li>
  <li>
<a href="#t">T</a>
    <ul>
      <li><a href="#torch">torch</a></li>
    </ul>
  </li>
  <li><a href="#u">U</a></li>
  <li><a href="#v">V</a></li>
  <li><a href="#w">W</a></li>
  <li><a href="#x">X</a></li>
  <li><a href="#y">Y</a></li>
  <li><a href="#z">Z</a></li>
</ul>

<h1 id="a">A</h1>
<h2 id="apollo">APOLLO</h2>
<h3 id="play-record">play .record</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cyber_recorder play -f sensor_rgb.record -loop 
cyber_visualizer  ### channle 监控
cyber_monitor -c ChannelName
</code></pre></div></div>

<h3 id="sdkrepo-download">sdk/repo download</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd omnisense &amp;&amp; ./tools/build.bash init all
</code></pre></div></div>

<h3 id="启动数据集">启动数据集</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	source /apollo/cyber/setup.bash 
	1 改launch/conf/driver_01_debug.pb.txt    --------------------data route
	2 改launch/dag/driver_single_debug.dag   -------------------config_file_path
	3 改launch/intergration_single_lidar_debug.launch  ------------master    .dag_path
	4 cyber_launch start modules/omnisense/launch/integration_single_lidar_debug.launch
	5 http://viewer.innovusion.info/v60/?url=127.0.0.1&amp;port=8003/stream&amp;autoplay=1.0
</code></pre></div></div>

<h3 id="点云录制">点云录制</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	1. get_pcd/01.get_pcd.pb.txt   ----------channel1: dynamic_points  ----- channel2: static_points     channel3: -----enable_channel1_get_pcd:true
	2. .dag修改路径 ### orders

root@in-dev-docker:/apollo# ./apollo.sh build_opt omnisense cyber

root@in-dev-docker:/apollo/modules/omnisense# git branch
</code></pre></div></div>

<ul>
  <li>
    <p>master</p>

    <p>root@in-dev-docker:/apollo/modules/omnisense# git checkout dev
Branch ‘dev’ set up to track remote branch ‘dev’ from ‘origin’.
Switched to a new branch ‘dev’
root@in-dev-docker:/apollo/modules/omnisense# cd -
/apollo</p>

    <p>root@in-dev-docker:/apollo# ./modules/omnisense/tools/build.bash build all</p>

    <p>xng@xng:~/CODE/OmniSense2.0/apollo$ ./docker/scripts/dev_into.sh</p>
  </li>
</ul>

<h1 id="b">B</h1>

<h1 id="c">C</h1>
<h2 id="cuda">CUDA</h2>
<h3 id="pytorch-对应-cuda版本">pytorch 对应 cuda版本</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import torch
print(torch.version.cuda)
</code></pre></div></div>

<h3 id="cuda-1">CUDA</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export PATH=/usr/local/cuda/bin:$PATH
export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH
</code></pre></div></div>

<h3 id="cudnn-tar--install">cudnn .tar  install</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo cp cudnn-*-archive/include/cudnn*.h /usr/local/cuda/include 
sudo cp -P cudnn-*-archive/lib/libcudnn* /usr/local/cuda/lib64 
sudo chmod a+r /usr/local/cuda/include/cudnn*.h /usr/local/cuda/lib64/libcudnn* # D ## Docker ### docker 可视化
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// RVIZ cannot display
docker run --add-host=demo:172.16.115.75 -it --name osrf_melodic_full --net host --add-host $(hostname):127.0.0.1 --gpus all -v /tmp/.x11-unix:/tmp/.x11-unix -e DISPLAY=unix$DISPLAY -e GDK_SCALE -e GDK_DPI_SCALE -v /home/xng/CODE/osrf_melodic_full/:/home osrf/ros:melodic-desktop-full /bin/bash
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run –name ContainerName –gpus all –network host –env=DISPLAY –env=NVIDIA_DRIVER_CAPABILITIES=all -env=NVIDIA-VISIBLE_DEVICES=all –env=QT_X11_NO_MITSHM=1 -v /tmp/.X11-unix:/tmp/.X11-unix:rw –runtime=nvidia –privileged -it DockerImage
</code></pre></div></div>
<hr>
<h3 id="cannot-access-gpu-from-within-container-please-install-latest-docker-and-nvidia-container-toolkit-as-described-by">Cannot access GPU from within container. Please install latest Docker and NVIDIA Container Toolkit as described by:</h3>

<ul>
  <li>https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html#docker</li>
</ul>

<h3 id="报错failed-to-connect-is-docker-running">报错Failed to connect. Is Docker running</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error: connect EACCES /var/run/docker.sock
sudo groupadd docker          #添加docker用户组
sudo gpasswd -a $USER docker  #将当前用户添加至docker用户组
newgrp docker                 #更新docker用户组
在终端打开vsode
code
</code></pre></div></div>

<h3 id="docker--container-查看启动进入">docker  container 查看/启动/进入</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 	docker container ls --all 
	docker start apollo_dev_root
	docker ps 
	sudo docker exec -it ae76016acd18 /bin/bash

	source /apollo/cyber/setup.bash 
</code></pre></div></div>

<h3 id="docker-group">docker group</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo groupadd docker
sudo usermod -aG docker $USER
newgrp docker
</code></pre></div></div>

<h3 id="docker-images--container">docker images / container</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull
docker run -it {name}:
docker exec -it {ID} /bin/bash
</code></pre></div></div>

<h3 id="docker-拷贝本地文件到容器容器到本地文件">docker 拷贝本地文件到容器/容器到本地文件</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker cp 你的文件路径 容器长ID/name:docker容器路径 # E ## ERROR
</code></pre></div></div>

<h2 id="evo">EVO</h2>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">evo_ape tum 0_odom 5_imu_pose_after_trans.txt -va -r full -p --plot_mode xy`</span>

<span class="s">evo_traj kitti KITTI_00_ORB.txt KITTI_00_SPTAM.txt --ref=KITTI_00_gt.txt -p --plot_mode=xz</span>

<span class="s">evo_rpe tum 0_odom 5_imu_pose_after_trans.txt -r full -p --plot_mode xy</span>
</code></pre></div></div>
<h1 id="f">F</h1>

<h1 id="g">G</h1>
<h2 id="gdb">GDB</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gdb -q --args /apollo/bazel-bin/cyber/mainboard/mainboard -d /apollo/modules/omnisense/pose_monitor/dag/inno_pose_monitor.dag

./bazel-bin/modules/omnisense/gps_info_capture/ins_posetrans_test
</code></pre></div></div>
<hr>
<h2 id="git">GIT</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">git</span> <span class="n">init</span>
<span class="n">touch</span> <span class="n">Readme_new</span>
<span class="n">git</span>  <span class="n">add</span> <span class="p">.</span>
<span class="n">git</span>  <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="err">'提交的备注信息'</span>
<span class="n">git</span>  <span class="n">push</span> <span class="o">-</span><span class="n">u</span> <span class="n">origin</span> <span class="n">dev</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">origin</span> <span class="n">https</span><span class="o">:</span><span class="c1">//github.com/你的github用户名/你的github仓库.git  </span>
<span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span> <span class="n">master</span>
<span class="err">更新远程分支列表</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">update</span> <span class="n">origin</span> <span class="o">--</span><span class="n">prune</span>

<span class="err">查看所有分支</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">a</span>

<span class="err">删除远程分支</span><span class="n">Chapater6</span>
<span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="o">--</span><span class="k">delete</span> <span class="n">Chapater6</span>

<span class="err">删除本地分支</span> <span class="n">Chapater6</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">d</span>  <span class="n">Chapater6</span>
    
    <span class="c1">//at your own branch</span>
    <span class="n">git</span> <span class="n">add</span> <span class="o">&lt;</span><span class="n">change</span><span class="o">&gt;</span>
    <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s">"***"</span>
    <span class="c1">// checkout to destieny branch</span>
    <span class="n">git</span> <span class="n">checkout</span> <span class="n">autonoumous_driving</span>
    <span class="n">git</span> <span class="n">pull</span>
    <span class="c1">// back to own branch</span>
    <span class="n">git</span> <span class="n">checkout</span> <span class="n">ad_posemonitor</span>
    <span class="n">git</span> <span class="n">merge</span> <span class="n">autonoumous_driving</span>
    <span class="c1">// fix conflict in vscode</span>
    <span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s">"***"</span>
    <span class="n">git</span> <span class="n">push</span>
</code></pre></div></div>
<h3 id="从bitbucket下载">从bitbucket下载：</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-add ~/key
git clone -b dev git@bitbucket.org:ivusw/omnisense.git
git pull" 来更新您的本地分支
git reset HEAD &lt;文件&gt;..." 以取消暂存
git stash  暂存
git pull   将远程存储库中的更改合并到当前分支中。 ---------- # H
</code></pre></div></div>

<h1 id="i">I</h1>
<h2 id="innovusion">INNOVUSION</h2>
<h3 id="falcon-ros">falcon-ros:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//改ipv4:10.42.0.91
http://10.42.0.91:8675/config.pyhtml
//驱动版本是否匹配？/关网页点云
//不匹配：
~/falcon-lidar-sdk/build$ ./download-sdk-release.py ros-melodic-innovusion-driver-release-2.5.0-rc260-public.deb
sudo dpkg -l | grep inno
sudo dpkg -r ros-melodic-innovusion-driver-public //卸载旧驱动
sudo dpkg -i  ros-melodic-innovusion-driver-release-2.5.0-rc260-public.deb
roslaunch innovusion_pointcloud innovusion_points.launch device_ip:=10.42.0.91

rosbag record /ivpoints   -o /home/xng/data/name.bag
//bag2pcd
rosrun pcl_ros bag_to_pcd &lt;input_file.bag&gt; &lt;topic&gt; &lt;output_directory&gt; # J
</code></pre></div></div>

<h1 id="k">K</h1>

<h1 id="l">L</h1>

<h1 id="m">M</h1>

<h1 id="n">N</h1>

<h1 id="o">O</h1>

<h1 id="p">P</h1>
<h2 id="python">python</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="c1"># os.path.dirname (file)返回的是.py文件的目录
</span>        <span class="c1"># os.path.abspath (file)返回的是.py文件的绝对路径
</span>        <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span>
        <span class="kn">import</span> <span class="nn">os</span>

        <span class="k">print</span><span class="p">(</span><span class="s">'***获取当前目录***'</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"当前目录是:{}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">getcwd</span><span class="p">()))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"当前目录是:{}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">))))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'***获取上级目录***'</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"上级目录是:{}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)))))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"上级目录是:{}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">getcwd</span><span class="p">()))))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"上级目录是:{}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s">".."</span><span class="p">))))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'***获取上上级目录***'</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"上上级目录是:{}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s">"../.."</span><span class="p">))))</span>
        <span class="o">//</span><span class="n">拼接文件路径</span>
        <span class="n">sys</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">()</span>
</code></pre></div></div>

<h1 id="q">Q</h1>

<h1 id="r">R</h1>
<h2 id="ros">ROS</h2>
<h3 id="fixed-frame-trans">fixed frame trans</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun tf static_transform_publisher 0.0 0.0 0.0 0.0 0.0.0 base_link innovusion 100
</code></pre></div></div>
<hr>
<h3 id="rosbag-to-pcdtxt">Rosbag to pcd/txt:</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun pcl_ros bag_to_pcd &lt;input_file.bag&gt; &lt;topic&gt; &lt;output_directory&gt;
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosbag play XXX.bag
rosrun pcl_ros pointcloud_to_pcd input:=/velodyne_points
</code></pre></div></div>

<ul>
  <li>rosbag topic to txt:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rostopic echo -b filename.bag -p /topic &gt; txtname.txt
</code></pre></div></div>
<h3 id="查看frame_id">查看frame_id</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rostopic echo /topic | grep frame_id -------------- # S
</code></pre></div></div>

<h1 id="t">T</h1>
<h2 id="torch">torch</h2>

<ul>
  <li>numpy2torch / torch2numpy</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tor_datas</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="n">from_numpy</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">tor2numpy</span><span class="o">=</span><span class="n">tor_arr</span><span class="p">.</span><span class="n">numpy</span><span class="p">(</span>
</code></pre></div></div>
<h1 id="u">U</h1>

<h1 id="v">V</h1>

<h1 id="w">W</h1>

<h1 id="x">X</h1>

<h1 id="y">Y</h1>

<h1 id="z">Z</h1>

</body></html>
